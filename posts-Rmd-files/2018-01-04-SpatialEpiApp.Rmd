<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Disease risk mapping and cluster detection</title>

  <meta name="author" content="RECON - R Epidemics Consortium" />
  
  
  <meta name="description" content="An overview of SpatialEpiApp by Paula Moraga">
  

  <link rel="alternate" type="application/rss+xml" title="R Epidemics Consortium - We are a group of international experts in infectious disease modelling, Public Health, and software development who collaborate to create the next generation of analysis tools for disease outbreak response using the R software" href="/feed.xml" />

  
    
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    
      
  
  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
      <link rel="stylesheet" href="/css/recon.css" />
    
    
  
  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

    
  
  

  

  <!-- Facebook OpenGraph tags -->
  <meta property="og:title" content="Disease risk mapping and cluster detection" />
  <meta property="og:type" content="website" />
  
  <meta property="og:url" content="http://reconhub.github.io/posts-Rmd-files/2018-01-04-SpatialEpiApp.Rmd" />
  
  
  <meta property="og:image" content="" />
  
  
  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@yourname" />
  <meta name="twitter:creator" content="@yourname" />
  <meta name="twitter:title" content="Disease risk mapping and cluster detection" />
  <meta name="twitter:description" content="```{r setup, include=FALSE} knitr::opts_chunk$set(collapse = TRUE) ``` In this post we present `SpatialEpiApp`, a [Shiny](https://shiny.rstudio.com/) web application for the analysis of spatial and spatio-temporal disease data. `SpatialEpiApp` integrates two of the most common approaches in public health surveillance: disease risk mapping and detection of clusters. The application allows to fit..." />
  
  
</head>


  <body>
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://reconhub.github.io">R Epidemics Consortium</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li class="navlinks-container">
            <a class="navlinks-parent" href="javascript:void(0)">About RECON</a>
            <div class="navlinks-children">
              
                
                  
            





<a href="/">What we do</a>

                
              
                
                  
            





<a href="/join">Join us</a>

                
              
                
                  
            





<a href="/contact">Contact</a>

                
              
                
                  
            





<a href="/CODE_OF_CONDUCT">Code of Conduct</a>

                
              
            </div>
          </li>
        
        
        
          <li>
            
            





<a href="/blog">News</a>

          </li>
        
        
        
          <li>
            
            





<a href="/people">People</a>

          </li>
        
        
        
          <li>
            
            





<a href="/projects">Projects</a>

          </li>
        
        
        
          <li>
            
            





<a href="/resources">Resources</a>

          </li>
        
        
        
          <li>
            
            





<a href="/events">Events</a>

          </li>
        
        
        
          <li>
            
            





<a href="/funding">Funding</a>

          </li>
        
        
        
          <li>
            
            





<a href="/forum">Forum</a>

          </li>
        
        
      </ul>
    </div>

	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->




  <div id="header-big-imgs" data-num-img=1
    
	  
	  
	    
		  data-img-src-1="/img/banners/binary.jpg"
		
	  
    
  ></div>


<header class="header-section has-img">

<div class="big-img intro-header">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-heading">
        <div class="header-background">
          <h1>Disease risk mapping and cluster detection</h1>
		  
		    
            <hr class="small">
            <span class="page-subheading">An overview of SpatialEpiApp by Paula Moraga</span>
			
		  
		  
		  
        </div>
        </div>
      </div>
    </div>
  </div>
  <span class='img-desc'></span>
</div>

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-heading">
          <h1>Disease risk mapping and cluster detection</h1>
		  
		    
            <hr class="small">
            <span class="page-subheading">An overview of SpatialEpiApp by Paula Moraga</span>
			
		  
		  
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      ```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```


In this post we present `SpatialEpiApp`, a [Shiny](https://shiny.rstudio.com/) web application for the analysis of spatial and spatio-temporal disease data. `SpatialEpiApp` integrates two of the most common approaches in public health surveillance: disease risk mapping and detection of clusters.

The application allows to fit Bayesian disease models to obtain risk estimates and their uncertainty by using [INLA](http://www.r-inla.org/), and to detect clusters by using the scan statistics implemented in [SaTScan](https://www.satscan.org/).
`SpatialEpiApp` allows user interaction and creates interactive visualizations by using the R packages [Leaflet](https://rstudio.github.io/leaflet/) for rendering maps, [dygraphs](https://rstudio.github.io/dygraphs/) for plotting time series, and [DataTables](https://rstudio.github.io/DT/) for displaying data objects. It also enables the generation of reports containing the analyses performed by using [RMarkdown](http://rmarkdown.rstudio.com/).

To carry out these analyses users simply need to upload their map and data and then click the buttons that create the input files required, execute the software and process the output to generate tables of values and plots with the results.
Here we briefly describe the main components of the application. The package [vignette](https://cran.r-project.org/web/packages/SpatialEpiApp/vignettes/manual.pdf)
can be checked for more details about the use of the application, methods and examples.


## Use of SpatialEpiApp

`SpatialEpiApp` has been implemented in the R package `SpatialEpiApp`. Users can launch the application by executing the following code in R:
```{r, eval=FALSE}
install.packages("SpatialEpiApp")
library(SpatialEpiApp)
run_app()
```

The application consists of three pages: 'Inputs', 'Analysis' and 'Help'.


### Inputs

The 'Inputs' page is the first page we see when we launch the application. In this page we can upload the required files and select the type of analysis to be performed. It is composed of three components:

- Upload map (shapefile);
- Upload data (csv file with area id, date, population, cases and covariates);
- Select analysis (temporal unit, date range, spatial or spatio-temporal analysis).

<img src="/img/posts/2018-01-04-SpatialEpiApp/exinput.png" width="100%">




### Analysis

In the 'Analysis' page we can visualize the data, perform the statistical analyses, and generate reports. On the top of the page there are four buttons:

- 'Edit Inputs' which is used when we wish to return to the 'Inputs' page to modify the analysis options or upload new data;
- 'Maps Pop O E SIR' that creates plots of the population, observed, expected and SIR variables;
- 'Estimate risk' which is used for estimating the disease risk and their uncertainty;
- 'Detect clusters' used for the detection of disease clusters.

<img src="/img/posts/2018-01-04-SpatialEpiApp/animation.gif" width="100%">



The 'Analysis' page also contains four tabs called 'Interactive', 'Maps', 'Clusters' and 'Report' that include tables and plots with the results.

#### Maps

The 'Maps' tab shows a summary table, maps and temporal trend plots of the population, observed cases, expected cases, SIR, risk and lower and upper limits of 95% credible intervals that were obtained by clicking the 'Map Pop O E SIR' and the 'Estimate risk' buttons.


<img src="/img/posts/2018-01-04-SpatialEpiApp/exmaps.png" width="100%">

#### Clusters

The 'Clusters tab' shows, for each of the dates of the period of study, a map with the clusters detected and a plot with all clusters over time. This tab also includes a table with the information relative to each of the clusters such as the areas included and the significance. 


<img src="/img/posts/2018-01-04-SpatialEpiApp/exclusters.png" width="100%">

#### Report

In the 'Report tab' we can download a PDF document showing the results of our analysis. The report includes maps and tables summarizing the variables population, observed, expected, SIR, risk, lower and upper limits of the 95% credible intervals and clusters for each of the periods of time. 


<img src="/img/posts/2018-01-04-SpatialEpiApp/exreport.png" width="100%">

### Help
The 'Help' button redirects to the 'Help' page which shows information about the use of the application, the statistiscal methodology and the developing tools employed.


## Conclusion
We think the `SpatialEpiApp` can be very useful for many researchers working in health surveillance.
Moreover, the application can be easily extended and in future versions we will increase its flexibility enabling more options for disease mapping and the detection of clusters, as well as custom data visualizations.

Please get in touch if you have any suggestions or doubts about input data, methods or interpretation!

Contact: Paula Moraga
[Web](https://Paula-Moraga.github.io),
[Twitter](https://twitter.com/paumose).

	    
    </div>
  </div>
</div>


    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
		    
          <li>
            <a href="mailto:thibautjombart@gmail.com" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
        
        
          <li>
            <a href="https://github.com/reconhub/reconhub.github.io" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
        
          

		  
      
		  
        </ul>
        <p class="copyright text-muted">
		  RECON - R Epidemics Consortium
		  &nbsp;&bull;&nbsp;
		  2024
	    </p>
		<p class="theme-by text-muted">
		  Theme by
		  <a href="http://deanattali.com/">Dean Attali</a>
		</p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/bootstrap.min.js"></script>
    
  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
	<script src="/js/main.js"></script>
    
  



	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-83713279-1', 'auto');
		ga('send', 'pageview');
	</script>
	<!-- End Google Analytics -->


  
  </body>
</html>
